Console Application
===============================

Описание задачи
-------------------
Написать программу ­ фоновый обработчик.

Каждая задача описывается одной записью в БД.
Относится к одной из категорий ­ поле `task` (напр. messages) и поле `action` (напр. sms).
Task определяет название класса который будет использован, а action ­ название его метода. 
Классы относятся к пространству \Plp\Task, а методы являются статическими.

Все данные по задаче хранятся в поле data в формате JSON.
В поле status указывается статус задачи (int).

Обработчик должен взять задачу из базы, выполнить нужный класс+метод, передав ему значение поля data (декодированное через json_decode).
Результат, возвращенный от метода записать в БД в поле result (закодировать в JSON).
Отметить задачу как выполненную.

Важно сделать обработку ошибок.
Выполняемые классы могут бросить два типа исключений:
\Plp\Task\UserException -­ текст ошибки нужно записать в поле result, и попробовать выполнить задачу позже, но не более 3х раз.
\Plp\Task\FatalException -­ текст ошибки с бэктрейсом скинуть в error_log и пометить задачу, как невозможную к выполнению.
Оба исключения унаследованы от \Exception.

Итоговый файл должен запускаться из консоли, выводить в stdout отладочную информацию о каждой выполняемой задаче (дата­время, id, task, action и результат).


Установка
-------------------
Выполнить git clone https://github.com/bakhman-kate/console-application

В командной строке в корне проекта выполнить

composer install

yii migrate

Запуск
-------------------
В командной строке в корне проекта выполнить

yii task

Тестирование
-------------------
Создать БД yii2_basic_tests, содержащую данные для тестирования (настройки подключения к БД в /tests/codeception/config/congig.php).

В командной строке выполнить команду migrate из tests/codeception/bin/yii

Для запуска uniе тестов выполнить команду codecept run unit